<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>PopCorn JS</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.3.0/milligram.css">
        <link rel="stylesheet" href="./css/style.css">
        <link rel="manifest" href="./manifest.json">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="News Feed">

        <meta name="application-name" content="Popcorn">
        <meta name="apple-mobile-web-app-title" content="Popcorn">
        <meta name="theme-color" content="#191919">
        <meta name="msapplication-navbutton-color" content="#191919">
        <meta name="msapplication-starturl" content="/index.html">

        <link rel="icon" sizes="192x192" href="./img/icons/icon-192x192.png">
        <link rel="icon" sizes="128x128" href="./img/icons/icon-128x128.png">
        <link rel="apple-touch-icon" sizes="128x128" href="./img/icons/icon-128x128.png">
        <link rel="apple-touch-icon-precomposed" sizes="128x128" href="./img/icons/icon-128x128.png">
        <script>
            // This is the service worker with the Cache-first network
            // Add this below content to your HTML page, or add the js file to your page at the very top to register service worker

            // Check compatibility for the browser we're running this in
            if ("serviceWorker" in navigator) {
                if (navigator.serviceWorker.controller) {
                    console.log("[PWA Builder] active service worker found, no need to register");
                } else {
                    // Register the service worker
                    navigator.serviceWorker
                        .register("./service.worker.js", {
                            scope: "./"
                        })
                        .then(function (reg) {
                            console.log("[PWA Builder] Service worker has been registered for scope: " + reg.scope);
                        });
                }
            }
        </script>
    </head>
    <body>
        <header>
            <div class="menu">
                <span id="user"></span>
                <button id="btnFormPupup">Connexion / Inscription</button>
            </div>
            <section id="homeContent" class="active">
                <h2>PopCorn Movies</h2>
                <form action="#" id="searchForm">
                    <input type="text" placeholder="Rechercher un film" name="searchData" id="searchData" minlength="1" required>
                    <button type="submit">Rechercher</button>
                </form>
            </section>
            <hr>
            <h4 id="titleFav">Mes favoris</h4>
            <section id="profileContent" class="open"></section>
        </header>
        <main>
            <section id="moviePopin" class="close">
                <article></article>
            </section>
            <section id="movieList"></section>
            <section id="formPopup" class="close">
                <article>
                    <div class="btn-close">
                        <button id="closeFormPopup">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="left">
                        <h3>Inscription</h3>
                        <form action="#" id="registerForm">
                            <label for="r-email">Email</label>
                            <input id="r-email" type="email" name="email" required>
                            <label for="r-pseudo">Pseudo</label>
                            <input id="r-pseudo" type="text" name="pseudo" required>
                            <label for="r-password">Mot de passe</label>
                            <input id="r-password" type="password" name="password" required>
                            <button type="submit">S'inscrire</button>
                        </form>
                    </div>
                    <div class="right">
                        <h3>Connexion</h3>
                        <form action="#" id="loginForm">
                            <label for="email">Email</label>
                            <input id="email" type="email" name="email" required>
                            <label for="password">Mot de passe</label>
                            <input id="password" type="password" name="password" required>
                            <button type="submit">Se connecter</button>
                        </form>
                    </div>
                </article>
            </section>
        </main>
        <script src="https://cdn.jsdelivr.net/npm/pouchdb@7.1.1/dist/pouchdb.min.js"></script>
        <script src="./js/fetchClass.js"></script>
        <script src="./js/app.js"></script>
    </body>
</html>